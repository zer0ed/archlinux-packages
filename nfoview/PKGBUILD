# Contributor: Wes Brewer <brewerw@gmail.com>
pkgname=nfoview
pkgver=1.1
pkgrel=1
pkgdesc="A fast GTK based .NFO viewer with ASCII cp437 codepage support"
arch=('i686')
url="http://home.gna.org/nfoview/"
license=('GPL')
depends=('python' 'pygtk' 'shared-mime-info' 'terminus-font')
conflicts=('nfoview-svn')
install=nfoview.install
source=(http://download.gna.org/nfoview/$pkgver/$pkgname-$pkgver.tar.gz
        x-nfo.desktop)
md5sums=('22b767362a6171c0279def3cce31b67f'
         '29d0ad75aeecfaf21965c01173d23e48')

build() {
  cd "$startdir/src/$pkgname-$pkgver"

  # run install script
  ./setup.py install --root $startdir/pkg || return 1

  # install KDE mimetype
  install -Dm644 ../x-nfo.desktop $startdir/pkg/opt/kde/share/mimelnk/text/x-nfo.desktop
}
